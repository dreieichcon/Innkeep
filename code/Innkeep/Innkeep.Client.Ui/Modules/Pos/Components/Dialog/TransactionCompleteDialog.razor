@using Innkeep.Api.Models.Internal
@using Innkeep.Api.Models.Internal.Transaction
<MudDialog Style="height: 65vh; width: 55vw;">
    <DialogContent>
        <MudStack Style="height: 40vh; width: 40vw;" Justify="Justify.SpaceEvenly">
            <MudStack Row="true" Justify="Justify.SpaceBetween">
                <MudText Typo="Typo.h3">Total</MudText>
                <MudText Typo="Typo.h3">@Receipt.Sum.TotalAmountString @Receipt.Currency</MudText>
            </MudStack>
            <MudStack Row="true" Justify="Justify.SpaceBetween">
                <MudText Typo="Typo.h3">Given</MudText>
                <MudText Typo="Typo.h3">@Receipt.Sum.AmountGivenString @Receipt.Currency</MudText>
            </MudStack>
            <MudStack Row="true" Justify="Justify.SpaceBetween">
                <MudText Typo="Typo.h3">Back</MudText>
                <MudText Typo="Typo.h3">@Receipt.Sum.AmountReturnedString @Receipt.Currency</MudText>
            </MudStack>
        </MudStack>
    </DialogContent>
    <DialogActions>
        <MudStack Row="true" Justify="Justify.SpaceEvenly" Class="w-100">
            <MudButton Style="height: 15vh; width: 15vh;" Color="Color.Error" Variant="Variant.Outlined" OnClick="CloseWithoutPrinting">
                <MudText Typo="Typo.h5">Close</MudText>
            </MudButton>
            <MudButton Style="height: 15vh; width: 15vh;" Color="Color.Success" Variant="Variant.Outlined" OnClick="CloseAndPrint">
                <MudText Typo="Typo.h5">Receipt</MudText>
            </MudButton>
        </MudStack>
    </DialogActions>
</MudDialog>

@code {

    [CascadingParameter]
    public required MudDialogInstance DialogInstance { get; set; }
    
    [Parameter]
    public required TransactionReceipt Receipt { get; set; }
    
    public void CloseAndPrint()
    {
        DialogInstance.Close(DialogResult.Ok(true));
    }

    public void CloseWithoutPrinting()
    {
        DialogInstance.Cancel();
    }

}