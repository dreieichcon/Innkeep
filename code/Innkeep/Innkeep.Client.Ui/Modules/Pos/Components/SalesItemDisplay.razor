@using Innkeep.Services.Client.Interfaces.Pos
@inject ISalesItemService SalesItemService

<MudPaper Style="@PosStyles.DisplayStyle" Class="d-flex flex-grow-1 mh-100 overflow-hidden" Elevation="1">
    <ListBox Title="Items">
        <MudStack Class="flex-grow-1 mh-100 m-0" Justify="Justify.SpaceBetween" Spacing="0">
            @foreach (var item in SalesItemService.SalesItems)
            {
                <SalesItem Item="@item"/>
            }
        </MudStack>
    </ListBox>
</MudPaper>

@code {

    protected override async Task OnInitializedAsync()
    {
        SalesItemService.ItemsUpdated += async (_, _) => await InvokeAsync(StateHasChanged);
        await base.OnInitializedAsync();
    }
}