@page "/POS"
@using Innkeep.Services.Client.Interfaces.Pos
@using Innkeep.Client.Ui.Modules.Pos.Components

@inject ISalesItemService SalesItemService

<MudStack Class="flex-grow-1">
    <MudStack Row="true" Style="height: 80%; max-height: 80%; width: 100%;" Spacing="2" Justify="Justify.SpaceBetween">
        <CartDisplay/>
        <SalesItemDisplay/>
        <KeypadDisplay/>
    </MudStack>
    <MudStack Row="true" Style="height: 20%; max-height: 20%;">
        <MudPaper Class="d-flex flex-grow-1"></MudPaper>
    </MudStack>
</MudStack>

@code {
    
    protected override async Task OnInitializedAsync()
    {
        SalesItemService.ItemsUpdated += async (_, _) => await InvokeAsync(StateHasChanged);
        await base.OnInitializedAsync();
    }

}